(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"+9Qw":function(module,e,t){"use strict";var n=t("sbe7"),a=t.n(n),r=t("w/1P"),o=t.n(r),i=t("TOZ3"),c=t("m10x"),s=t("cO+T"),u=t("jr3s"),l=t.n(u),d=t("d62h"),p=t.n(d),m=function LtiLaunchRoleOptions(e){var t=e.className,n=e.options,r=e.selectedOptionId,u=e.onChange;if(n.length<=1)return null;return a.a.createElement(i.b,{rootClassName:o()("rc-LtiLaunchRoleOptions",t),justifyContent:"end",style:{alignItems:"flex-end"}},a.a.createElement(c.h,{style:{whiteSpace:"nowrap"}},l()("Launch as:")),a.a.createElement(s.a,{options:n,labelKey:"label",valueKey:"id",value:r,onChange:u}))};e.a=m},"1pA2":function(module,e,t){"use strict";var n=t("ty6C"),a=t("YCpq"),r=t("eBhw");e.a=function(e){var t=e.itemId,o=e.courseId,i=e.courseSlug,c=new r.a({itemId:t,courseId:o,courseSlug:i}),s={courseId:o,itemId:t,learnerId:a.a.get("id")},u={fields:[]},l=!0;return c.create(n.a.opensApi,s,u,!0)}},"3duF":function(module,e,t){"use strict";var n=t("VYij"),a=t.n(n),r=t("hidG"),o=function DescriptionData(e){Object(r.a)(e,"DescriptionData constructed with no arguments"),Object.assign(this,a()(e).pick("id","itemId","courseId","ltiVersion","description","toolName","privacyLevel"))};e.a=o},"5s8R":function(module,e,t){"use strict";t.d(e,"b",function(){return O}),t.d(e,"a",function(){return T});var n=t("unn+"),a=t("q3BH"),r=t("z+Ik"),o,i,c,s,u=("undefined"!=typeof window&&navigator.userAgent||"").toLowerCase().indexOf("catchpoint")>=0?"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI":"6LfC0DkUAAAAADDdBbNPjM3yzkRyRgghbjYYgzeU",l="https://www.recaptcha.net/recaptcha/api.js?onload=onInitialRecaptchaSetup&render=explicit",d,p={},m,h,f,g="recaptcha-finaid-form",I="recaptcha-payment-settings",E=function getlangCode(){var e=Object(r.getLanguageCode)(),t;return"zh-mo"===e?"zh":e},v=function trackRecaptcha(e){e&&e.namespace&&a.a.trackComponent(e,{},"recaptcha_executed","show")},b=function getRecaptchaResponse(e){return window.grecaptcha&&"function"==typeof window.grecaptcha.getResponse?window.grecaptcha.getResponse(p[e]):(n.default.error("No grecaptcha found"),null)},L=function executeRecaptcha(e){if(window.grecaptcha){var t=new Promise(function(t,n){window.grecaptcha.execute(p[e]).then(t,n)});return m&&v(m),t}return n.default.error("No grecaptcha found"),Promise.reject()},R=function onInitialRecaptchaSetup(){window.grecaptcha?(p[d]=window.grecaptcha.render(d,{sitekey:u,callback:h,hl:E()}),f&&f(p[d])):n.default.error("No grecaptcha found")},A=function injectGoogleRecaptchaScript(){var e=document.body||document.getElementsByTagName("body")[0],t=document.createElement("script");t.src=l,t.type="text/javascript",t.async=!0,t.defer=!0,t.onerror=function(){throw new URIError("The script ".concat(l," is not accessible."))},e.appendChild(t)},O=function setupRecaptcha(e,t,n,a){"undefined"!=typeof document&&"undefined"!=typeof window&&(window.onInitialRecaptchaSetup=R,h=t,d=e,m=a,n&&(f=n),A())},T=function getRecaptchaToken(e){var t=p[e],n=b(t);return""===n?(L(t),null):null===n?"":n},y=function resetRecaptcha(e){window.grecaptcha?window.grecaptcha.reset(p[e]):n.default.error("No grecaptcha found")}},"7x7S":function(module,e,t){"use strict";var n=t("MVZn"),a=t.n(n),r=t("ty6C"),o=t("YCpq"),i=t("eBhw");e.a=function(e){var t=e.itemId,n=e.courseId,c=e.courseSlug,s=e.launchRole,u=e.recaptchaToken,l=new i.a({itemId:t,courseId:n,courseSlug:c}),d=a()({courseId:n,itemId:t,learnerId:o.a.get("id"),recaptchaToken:u},s?{launchAs:s}:{}),p={fields:["endpointUrl","authRequestUrl","signedProperties"]},m=!0;return l.create(r.a.ungradedLaunchesApi,d,p,!0)}},"By/7":function(module,e,t){"use strict";t.d(e,"a",function(){return c});var n=t("zKnr"),a=t("jr3s"),r=t.n(a),o=function isInstructorCourseRole(e){return"string"==typeof e&&n.a.includes(e)},i=function isAdminCourseRole(e){return"string"==typeof e&&n.c.includes(e)},c=function buildLaunchRoleOptions(e){var t=i(e),a=o(e)||t,c=[{id:n.b.LEARNER,label:r()("Learner"),launchRole:a?"LEARNER":null}];return a&&c.push({id:n.b.INSTRUCTOR,label:r()("Instructor"),launchRole:t?"INSTRUCTOR":null}),t&&c.push({id:n.b.ADMIN,label:r()("Admin"),launchRole:null}),c}},EEk1:function(module,e,t){"use strict";var n=t("wiyT"),a=t.n(n),r=t("7x7S"),o=t("hoCt"),i=t("YCpq");e.a=function(e){var t=e.itemId,n=e.courseId,c=e.courseSlug,s=e.launchRole,u=e.recaptchaToken;return i.a.get("authenticated")?Object(r.a)({itemId:t,courseId:n,courseSlug:c,launchRole:s,recaptchaToken:u}).then(function(e){return e.body.elements[0]}).then(function(e){return new o.a(Object.assign({},{itemId:t,courseId:n},e))}):a()({})}},FDW2:function(module,e,t){"use strict";var n=t("sbe7"),a=t.n(n),r=t("kvW3"),o=t("RHKO"),i=t.n(o),c=t("K3W+"),s=t.n(c),u=function RecaptchaDisclaimer(){return n.createElement("div",{className:"m-t-1s caption-text text-xs-center"},n.createElement("div",{className:"m-b-1"},n.createElement(r.b,{message:i()("This site is protected by reCAPTCHA and the Google {privacyPolicyLink} and {tosLink} apply."),privacyPolicyLink:n.createElement("a",{href:"https://policies.google.com/privacy"},i()("Privacy Policy")),tosLink:n.createElement("a",{href:"https://policies.google.com/terms"},i()("Terms of Service"))})))};e.a=u},HsdC:function(module,e,t){"use strict";var n=t("VbXa"),a=t.n(n),r,o=function(e){function UserEmails(){return e.apply(this,arguments)||this}return a()(UserEmails,e),UserEmails}(t("HlCP").a);o.RESOURCE_NAME="userEmails.v2",e.a=o},J3ji:function(module,e,t){"use strict";var n=t("VbXa"),a=t.n(n),r=t("sbe7"),o=t.n(r),i=t("MnCE"),c=t("y1LI"),s=t("9can"),u=t("K2XA"),l=t("gABk"),d=t("8cuT"),p=t.n(d),m=t("aelv"),h=t("zgcx"),f=t("nRXD"),g=t.n(f),I=function(e){function LtiLauncher(){return e.apply(this,arguments)||this}var t;return a()(LtiLauncher,e),LtiLauncher.prototype.render=function render(){var e=this.props,t=e.computedItem,n=e.descriptionData,a=e.isGraded,r=e.itemProgress,i=e.courseId,l=t.itemGrade,d=n||{},p=d.description,f=d.ltiVersion,g=d.privacyLevel,I=d.toolName,E=l.isPassing();return o.a.createElement(u.a,{className:"rc-LtiLauncher"},o.a.createElement("h2",{className:"title"},E&&o.a.createElement(c.a,{name:"circle-outer",innerIcon:"check",size:"lg",className:"completion-checkmark"}),I),o.a.createElement("div",{className:"tool-description"},o.a.createElement(s.a,{assumeStringIsHtml:!1,content:p})),o.a.createElement(m.a,{itemProgress:r,isGraded:a,computedItem:t}),o.a.createElement("hr",null),o.a.createElement("div",{className:"tool-launch"},o.a.createElement(h.a,{computedItem:t,courseId:i,isGraded:a,ltiVersion:f,privacyLevel:g,toolName:I})))},LtiLauncher}(o.a.Component);e.a=Object(i.compose)(Object(l.a)(),p()(["CourseStore"],function(e,t){var n=e.CourseStore,a=t.computedItem,r=t.computedCourseProgress;return{courseId:n.getCourseId(),itemProgress:r.courseProgress.getItemProgress(a.id)}}))(I)},"K3W+":function(module,exports,e){var t=e("mWwh"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},"KkL/":function(module,e,t){"use strict";t.d(e,"a",function(){return a});var n=t("KMW/"),a=function isInvisibleRecaptchaForLtiLaunchEnabled(e){return n.a.get("authentication","enableRecaptchaForLtiLaunch",{course_id:e})}},"Mc+d":function(module,e,t){"use strict";var n=t("VbXa"),a=t.n(n),r=t("17x9"),o=t.n(r),i=t("UAeG"),c=t("sbe7"),s=t.n(c),u=t("MnCE"),l=t("VYij"),d=t.n(l),p=t("jr3s"),m=t.n(p),h=t("w/1P"),f=t.n(h),g=t("KMW/"),I=t("pAPY"),E=t("8cuT"),v=t.n(E),b=t("HsdC"),L=t("kvW3"),R=t("sQ/U"),A=t("+2ZD"),O=t("y1LI"),T=t("upIK"),y=t.n(T),C=function getTranslation(e){var t;return{ARIA_LABEL_FOR_LAUNCHED:m()("Open third-party tool in new window"),ARIA_LABEL_FOR_EMBEDDED:m()("Open third-party tool"),BUTTON_LABEL:m()("Open Tool")}[e]},S=function isEmailVerificationEnabled(e){return g.a.get("authentication","enableLtiToolEmailVerification",{course_id:e})},N=function(e){function LtiLaunchForm(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={showEmailVerificationModal:!1,emailVerificationMessage:void 0},t.onSubmit=function(e){var n=t.props,a=n.computedItem,r=n.courseId,o=n.courseSlug,i=n.onLaunch,c=n.userEmails,s=a.id;if(S(r)&&!(null==c?void 0:c.some(function(e){return e.isVerified})))return e.preventDefault(),void t.toggleEmailVerificationModal();Object(I.a)({itemId:s,courseId:r,courseSlug:o}),i&&setTimeout(i,0)},t.getActionUrl=function(){var e=t.props,n=e.ltiVersion,a=e.launchData;return"V1_3"===n?a.authRequestUrl:a.endpointUrl},t.toggleEmailVerificationModal=function(){t.setState(function(e){var t;return{showEmailVerificationModal:!e.showEmailVerificationModal}})},t.resendEmailVerification=function(){var e=t.context.executeMutation,n=t.props.userEmails,a=m()("Unable to send verification"),r=null==n?void 0:n[0];if(!r)return void t.setState({emailVerificationMessage:a});e(b.a.action("resendVerificationEmail",{},{email:r.email,userId:R.a.get().id})).then(function(){t.setState({emailVerificationMessage:m()("Email sent to #{email}",{email:r.email})})}).fail(function(){t.setState({emailVerificationMessage:a})}).done()},t}a()(LtiLaunchForm,e);var t=LtiLaunchForm.prototype;return t.renderEmailVerificationModal=function renderEmailVerificationModal(){var e=this.state.emailVerificationMessage;return s.a.createElement(A.a,{trackingName:"lti_email_verification_modal",modalName:"lti_email_verification_modal",handleClose:this.toggleEmailVerificationModal},s.a.createElement("h3",{className:"bt3-text-center"},m()("Email Verification Required")),s.a.createElement("div",null,s.a.createElement(L.b,{message:m()('You have not verified your email address yet. Please check your email inbox for an email from {courseraSupport} titled "{pleaseVerifyEmail}" and follow the instructions provided.'),courseraSupport:s.a.createElement("strong",null,m()("Coursera Support")),pleaseVerifyEmail:s.a.createElement("strong",null,m()("Action Required: Please confirm your email"))})),e?s.a.createElement("p",{className:"email-verification-message"},e):s.a.createElement("button",{className:"resend-verification-email-button secondary",type:"button",onClick:this.resendEmailVerification},m()("Resend Verification Email")))},t.render=function render(){var e=this.props,t=e.launchData,n=e.className,a=e.launchTarget,r=e.buttonLabel,o=void 0===r?C("BUTTON_LABEL"):r,i=this.state.showEmailVerificationModal,c=C("_blank"===a?"ARIA_LABEL_FOR_LAUNCHED":"ARIA_LABEL_FOR_EMBEDDED"),u=this.getActionUrl();return s.a.createElement("div",{className:f()(n,"rc-LaunchForm")},i&&this.renderEmailVerificationModal(),s.a.createElement("form",{method:"POST",onSubmit:this.onSubmit,action:u,target:a},d()(t.signedProperties).map(function(e,t){return s.a.createElement("input",{name:String(t),type:"hidden",value:e,key:t})}),s.a.createElement("button",{className:"submit-button primary",type:"submit","aria-label":c},s.a.createElement(O.a,{name:"external-link"}),"  ",o)))},LtiLaunchForm}(s.a.Component);N.contextTypes={executeMutation:o.a.func.isRequired},e.a=Object(u.compose)(v()(["CourseStore"],function(e){var t=e.CourseStore;return{courseId:t.getCourseId(),courseSlug:t.getCourseSlug()}}),Object(u.branch)(function(e){var t=e.courseId;return S(t)},i.a.createContainer(function(){return{userEmails:b.a.finder("findByUser",{params:{userId:R.a.get().id},fields:["isVerified"]})}})))(N)},"O/Cb":function(module,e,t){"use strict";var n=t("wiyT"),a=t.n(n),r=t("rBSV"),o=t("3duF"),i=t("YCpq");e.a=function(e){var t=e.itemId,n=e.courseId,c=e.courseSlug;return i.a.get("authenticated")?Object(r.a)({itemId:t,courseId:n,courseSlug:c}).then(function(e){return new o.a(Object.assign({},{itemId:t,courseId:n,courseSlug:c},e))}):a()({})}},RHKO:function(module,exports,e){var t=e("nkwd"),n=t.default?t.default:{},a,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},"S/+v":function(module,e,t){"use strict";t.d(e,"a",function(){return s});var n=t("VbXa"),a=t.n(n),r=t("sbe7"),o=t.n(r),i=t("XbdE"),c=t("5s8R"),s=function(e){function Recaptcha(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={didRecaptchaComplete:!1,isRecaptchaLoaded:!1},t.handleRecaptchaRendered=function(){},t.handleRecaptchaLoaded=function(){t.setState({isRecaptchaLoaded:!0})},t.checkRecaptcha=function(){var e;if(!t.state.isRecaptchaLoaded)return;var n=t.props,a=n.recaptchaId,r=n.onComplete,o=n.onPass,i=n.onFail,s;if(t.state.didRecaptchaComplete)return;var u=Object(c.a)(a),l;"string"==typeof u&&(t.setState({didRecaptchaComplete:!0}),null==r||r(u),u.length>0?null==o||o(u):null==i||i())},t}a()(Recaptcha,e);var t=Recaptcha.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props.recaptchaId;Object(c.b)(e,this.handleRecaptchaRendered,this.handleRecaptchaLoaded)},t.render=function render(){var e=this.props.recaptchaId,t=this.state.didRecaptchaComplete;return o.a.createElement("div",null,o.a.createElement(i.a,{onInterval:this.checkRecaptcha,interval:10,isEnabled:!t}),o.a.createElement("div",{id:e,"data-size":"invisible"}))},Recaptcha}(o.a.Component),u=s},TjAE:function(module,e,t){"use strict";var n=t("wiyT"),a=t.n(n),r=t("XN5z"),o=t("hoCt"),i=t("YCpq");e.a=function(e){var t=e.itemId,n=e.courseId,c=e.courseSlug,s=e.launchRole,u=e.recaptchaToken;return i.a.get("authenticated")?Object(r.a)({itemId:t,courseId:n,courseSlug:c,launchRole:s,recaptchaToken:u}).then(function(e){return e.body.elements[0]}).then(function(e){return new o.a(Object.assign({},{itemId:t,courseId:n},e))}):a()({})}},XN5z:function(module,e,t){"use strict";var n=t("MVZn"),a=t.n(n),r=t("ty6C"),o=t("YCpq"),i=t("eBhw");e.a=function(e){var t=e.itemId,n=e.courseId,c=e.courseSlug,s=e.launchRole,u=e.recaptchaToken,l=new i.a({itemId:t,courseId:n,courseSlug:c}),d=a()({courseId:n,itemId:t,learnerId:o.a.get("id"),recaptchaToken:u,verifiableId:null},s?{launchAs:s}:{}),p={fields:["endpointUrl","authRequestUrl","signedProperties"]},m=!0;return l.create(r.a.gradedLaunchesApi,d,p,!0)}},aelv:function(module,e,t){"use strict";var n=t("VbXa"),a=t.n(n),r=t("sbe7"),o=t.n(r),i=t("us00"),c=t("hbUA"),s=t("jr3s"),u=t.n(s),l=function(e){function Score(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).renderGrade=function(){var e=t.props,n=e.computedItem,a=e.computedItem.itemGrade;return Object(c.z)(n)?o.a.createElement("div",{className:"score"},o.a.createElement("strong",null,t.getPassingLabel())," ",Number.isNaN(t.getScore())?"--":t.getScore(),"%",a.hasLatePenalty()&&o.a.createElement(i.a,{tooltipLabel:"Late penalty of ".concat(100*a.getLatePenaltyRatio(),"% applied")})):o.a.createElement("div",{className:"score"},o.a.createElement("strong",null,"Grade: "),o.a.createElement("span",null,"--"))},t}a()(Score,e);var t=Score.prototype;return t.getPassingLabel=function getPassingLabel(){var e=this.props,t=e.isGraded,n=e.computedItem.itemGrade,a=e.itemProgress,r;return(t?n.isPassing():"Completed"===a.get("progressState"))?u()("Passed"):u()("Try again")},t.getScore=function getScore(){var e=this.props,t=e.isGraded,n=e.computedItem.itemGrade,a=e.itemProgress;if(t){var r=n.get("overallOutcome");return Math.floor(100*r.grade)}return Math.floor(a.get("completionPercent"))},t.render=function render(){var e;if("NotStarted"===this.props.itemProgress.get("progressState"))return null;return this.renderGrade()},Score}(o.a.Component);e.a=l},bcxU:function(module,exports){exports.default={"ar":true,"de":true,"es":true,"fr":true,"ja":true,"ko":true,"pseudo":true,"pt":true,"ru":true,"tr":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},d62h:function(module,exports,e){var t=e("hMls"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},hMls:function(module,exports,e){},hoCt:function(module,e,t){"use strict";var n=t("VYij"),a=t.n(n),r=t("hidG"),o=function LaunchData(e){Object(r.a)(e,"LaunchData constructed with no arguments"),Object.assign(this,{signedProperties:{}},a()(e).pick("id","itemId","courseId","signedProperties","endpointUrl","authRequestUrl"))};e.a=o},jr3s:function(module,exports,e){var t=e("bcxU"),n=t.default?t.default:{},a,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},mWwh:function(module,exports,e){},nRXD:function(module,exports,e){var t=e("yow7"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},nkwd:function(module,exports){exports.default={"ar":true,"de":true,"es":true,"fr":true,"ja":true,"ko":true,"pt":true,"ru":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},p258:function(module,e,t){"use strict";t.r(e);var n=t("VbXa"),a=t.n(n),r=t("wiyT"),o=t.n(r),i=t("sbe7"),c=t.n(i),s=t("MnCE"),u=t("sQ/U"),l=t("tODj"),d=t("O/Cb"),p=t("uyIS"),m=t("8cuT"),h=t.n(m),f=t("+LJP"),g=t("J3ji"),I=t("e13k"),E=function(e){function LtiItem(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={descriptionData:null},t}a()(LtiItem,e);var t=LtiItem.prototype;return t.componentDidMount=function componentDidMount(){this.fetchData()},t.fetchData=function fetchData(){var e=this,t=this.props,n=t.computedItem,a=t.courseId,r=t.courseSlug;o.a.all([Object(d.a)({itemId:n.id,courseId:a,courseSlug:r}),Object(p.a)(u.a.get().id,a)]).spread(function(t){e.setState({descriptionData:t})}).done()},t.render=function render(){var e=this.props,t=e.computedItem,n=e.isGraded,a=this.state.descriptionData;return c.a.createElement("div",{className:"rc-LtiItem"},a&&c.a.createElement(g.a,{computedItem:t,descriptionData:a,isGraded:n}),!a&&c.a.createElement(I.a,null))},LtiItem}(c.a.Component);e.default=Object(s.compose)(Object(f.a)(function(e){return{isGraded:e.isActive({name:"gradedLti",params:e.params})}}),Object(l.b)(),h()(["CourseStore"],function(e){var t=e.CourseStore;return{courseId:t.getCourseId(),courseSlug:t.getCourseSlug()}}))(E)},pAPY:function(module,e,t){"use strict";var n=t("wiyT"),a=t.n(n),r=t("1pA2"),o=t("x6CM"),i=t("YCpq");e.a=function(e){var t=e.itemId,n=e.courseId,c=e.courseSlug;return i.a.get("authenticated")?Object(r.a)({itemId:t,courseId:n,courseSlug:c}).then(function(e){return e.body.elements[0]}).then(function(e){return new o.a(Object.assign({},{itemId:t,courseId:n},e))}):a()({})}},rBSV:function(module,e,t){"use strict";var n=t("ty6C"),a=t("eBhw");e.a=function(e){var t=e.itemId,r=e.courseId,o=e.courseSlug,i,c={fields:["ltiVersion","privacyLevel","toolName","description"]};return new a.a({itemId:t,courseId:r,courseSlug:o}).getWithUserCourseItemId(n.a.descriptionsApi,c).then(function(e){return e.elements[0]})}},ty6C:function(module,e,t){"use strict";var n={descriptionsApi:"onDemandLtiDescriptions.v1",gradedLaunchesApi:"onDemandLtiGradedLaunches.v1",opensApi:"onDemandLtiOpens.v1",ungradedLaunchesApi:"onDemandLtiUngradedLaunches.v1"};e.a=n;var a=n.descriptionsApi,r=n.gradedLaunchesApi,o=n.opensApi,i=n.ungradedLaunchesApi},upIK:function(module,exports,e){var t=e("yQfa"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},x6CM:function(module,e,t){"use strict";var n=t("VYij"),a=t.n(n),r=t("hidG"),o=function OpenData(e){Object(r.a)(e,"OpenData constructed with no arguments"),Object.assign(this,a()(e).pick("id","itemId","courseId"))};e.a=o},yQfa:function(module,exports,e){},yow7:function(module,exports,e){},zKnr:function(module,e,t){"use strict";t.d(e,"a",function(){return n}),t.d(e,"c",function(){return a}),t.d(e,"b",function(){return r});var n=["INSTRUCTOR","TEACHING_STAFF","COURSE_ASSISTANT","DATA_COORDINATOR"],a=["UNIVERSITY_ADMIN"],r={LEARNER:"learner",INSTRUCTOR:"instructor",ADMIN:"admin"}},zgcx:function(module,e,t){"use strict";var n=t("VkAN"),a=t.n(n),r=t("VbXa"),o=t.n(r),i=t("sbe7"),c=t.n(i),s=t("MnCE"),u=t("lTCR"),l=t.n(u),d=t("xJyF"),p=t("jr3s"),m=t.n(p),h=t("sQ/U"),f=t("kvW3"),g=t("Mc+d"),I=t("TjAE"),E=t("EEk1"),v=t("F9Z8"),b=t("y1LI"),L=t("4uCe"),R=t("TOZ3"),A=t("rQpo"),O=t("KMW/"),T=t("8cuT"),y=t.n(T),C=t("hbUA"),S=t("+9Qw"),N=t("zKnr"),w=t("By/7"),D=t("FDW2"),P=t("KkL/"),U=t("S/+v");function _templateObject(){var e=a()(["\n  query OpenCourseMembershipsV1Query($userId: String!, $slug: String!) {\n    OpenCourseMembershipsV1Resource {\n      findByUserAndSlug(userId: $userId, slug: $slug) {\n        elements {\n          id\n          courseRole\n        }\n      }\n    }\n  }\n"]);return _templateObject=function _templateObject(){return e},e}var V="recaptcha-lti-launch",M=function getTranslation(e){var t;return{BUTTON_OPEN_TOOL:m()("Open Tool"),BUTTON_PREPARING:m()("Preparing..."),DISCLOSURE:m()("This course uses a third-party tool, {toolName}, to enhance your learning experience."),DISCLOSURE_WITHOUT_TOOLNAME:m()("This course uses a third-party tool, to enhance your learning experience."),IFRAME_TITLE:m()("Third-party tool"),IFRAME_RENDER_FAIL:m()("Cannot render iframe."),PRIVACY_ANONYMOUS:m()("No personal information will be shared with the tool."),PRIVACY_SHARE_ID:m()("The tool will reference basic information like your Coursera ID."),PRIVACY_SHARE_NAME:m()("The tool will reference basic information like your name and Coursera ID."),PRIVACY_SHARE_EMAIL:m()("The tool will reference basic information like your name, email, and Coursera ID."),BUTTON_OPEN_TOOL_AS_LEARNER:m()("Open Tool as Learner"),BUTTON_OPEN_TOOL_AS_INSTRUCTOR:m()("Open Tool as Instructor"),BUTTON_OPEN_TOOL_AS_UNIVERSITY_ADMIN:m()("Open Tool as University Admin"),BUTTON_OPEN_TOOL_AS_TEACHING_STAFF:m()("Open Tool as Teaching Staff"),BUTTON_OPEN_TOOL_AS_COURSE_ASSISTANT:m()("Open Tool as Course Assistant"),BUTTON_OPEN_TOOL_AS_DATA_COORDINATOR:m()("Open Tool as Data Coordinator")}[e]||""},k="token-not-required",j=function(e){function LtiVerifyAndLaunch(t){var n;(n=e.call(this,t)||this).handleLaunchRoleChange=function(e){n.setState({selectedLaunchRoleOptionId:e.id},function(){var e=n.state.recaptchaToken;n.loadLaunchData(e)})},n.handleHonorCodeAgreementComplete=function(){n.setState({honorCodeAcknowledged:!0})},n.handleHonorCodeAgreementIncomplete=function(){n.setState({honorCodeAcknowledged:!1})},n.handleResponsibilityChanged=function(e){var t=e.target.checked;n.setState({agreesToUseResponsibly:t})},n.handleLtiToolLaunch=function(){n.getLtiEmbeddingData()&&n.setState({embeddedLtiToolIsVisible:!0})},n.handleRecaptchaPass=function(e){n.setState({recaptchaToken:e}),n.loadLaunchData(e)},n.getPrivacyMessage=function(){var e;switch(n.props.privacyLevel){case"anonymous":return M("PRIVACY_ANONYMOUS");case"share_user_id":return M("PRIVACY_SHARE_ID");case"share_user_name":return M("PRIVACY_SHARE_NAME");case"share_user_email":return M("PRIVACY_SHARE_EMAIL");default:return null}},n.getLtiEmbeddingData=function(){var e=n.props.courseId,t;return O.a.get("Flex","embeddedLtiCourses")[e]},n.getLaunchTarget=function(){return n.getLtiEmbeddingData()?"lti-app-iframe":"_blank"},n.isRecaptchaEpicEnabled=function(){var e=n.props.courseId;return Object(P.a)(e)},n.hasAcceptedAgreement=function(){var e=n.state,t=e.honorCodeAcknowledged,a=e.agreesToUseResponsibly;return t||a},n.loadLaunchData=function(e){var t=n.props.courseId;n.setState({launchData:null},function(){var a=n.props,r=a.computedItem,o=a.courseSlug,i=a.isGraded,c=n.state,s=c.launchRoleOptions,u=c.selectedLaunchRoleOptionId,l=r.id,d,p=(s.find(function(e){return e.id===u})||s[0]).launchRole,m=p||void 0,h;(i?Object(I.a)({itemId:l,courseId:t,courseSlug:o,launchRole:m,recaptchaToken:e}):Object(E.a)({itemId:l,courseId:t,courseSlug:o,launchRole:m,recaptchaToken:e})).then(function(e){n.setState({launchData:e})},function(){})})},n.renderDisclosures=function(){var e=n.props,t=e.isGraded,a=e.toolName;return c.a.createElement("div",null,c.a.createElement("div",{className:"tool-privacy-message"},c.a.createElement(f.b,{message:M(a?"DISCLOSURE":"DISCLOSURE_WITHOUT_TOOLNAME"),toolName:a})," ",n.getPrivacyMessage()),t?c.a.createElement("div",{className:"honor-code-agreement"},c.a.createElement(v.a,{onAgreementComplete:n.handleHonorCodeAgreementComplete,onAgreementIncomplete:n.handleHonorCodeAgreementIncomplete})):c.a.createElement(L.a,{onChange:n.handleResponsibilityChanged},m()("I agree to use this tool responsibly.")))},n.renderEmbeddedLtiTool=function(){var e=n.getLtiEmbeddingData(),t=n.state.embeddedLtiToolIsVisible;if(e){var a=n.getLaunchTarget();return c.a.createElement("iframe",{title:M("IFRAME_TITLE"),name:a||void 0,className:t?"full-width":"hidden",height:e.height,sandbox:e.sandbox},M("IFRAME_RENDER_FAIL"))}return null};var a=Object(w.a)(t.courseRole);return n.state={honorCodeAcknowledged:!1,agreesToUseResponsibly:!1,embeddedLtiToolIsVisible:!1,launchData:null,launchRoleOptions:a,selectedLaunchRoleOptionId:N.b.LEARNER,recaptchaToken:null},n}o()(LtiVerifyAndLaunch,e);var t=LtiVerifyAndLaunch.prototype;return t.componentDidMount=function componentDidMount(){this.isRecaptchaEpicEnabled()||this.loadLaunchData("token-not-required")},t.getPurchaseCoursePromptButton=function getPurchaseCoursePromptButton(){var e=this.props.courseId;return c.a.createElement("div",{className:"horizontal-box align-items-vertical-center"},c.a.createElement(A.a,{courseId:e}))},t.renderLaunchButton=function renderLaunchButton(){var e=this.props,t=e.computedItem,n=e.ltiVersion,a=this.state,r=a.launchData,o=a.launchRoleOptions,i=a.selectedLaunchRoleOptionId,s=this.getLaunchTarget();return this.hasAcceptedAgreement()?c.a.createElement(R.b,{rootClassName:"launch-button-container",justifyContent:"end",style:{alignItems:"flex-end"}},c.a.createElement(S.a,{className:"flex-1",options:o,selectedOptionId:i,onChange:this.handleLaunchRoleChange}),r&&s?c.a.createElement(g.a,{buttonLabel:M("BUTTON_OPEN_TOOL"),className:"lti-submit-button",computedItem:t,launchData:r,launchTarget:s,ltiVersion:n,onLaunch:this.handleLtiToolLaunch}):c.a.createElement("button",{className:"lti-submit-button primary",disabled:!0,type:"submit"},c.a.createElement(b.a,{name:"external-link"}),"  ",M("BUTTON_PREPARING"))):c.a.createElement(R.b,{justifyContent:"end"},c.a.createElement("button",{className:"lti-submit-button primary",disabled:!0,type:"submit"},c.a.createElement(b.a,{name:"external-link"}),"  ",M("BUTTON_OPEN_TOOL")))},t.render=function render(){var e=this.state.embeddedLtiToolIsVisible,t=this.getLtiEmbeddingData(),n=this.props.computedItem,a=this.isRecaptchaEpicEnabled();if(Object(C.m)(n))return this.getPurchaseCoursePromptButton();return c.a.createElement("div",{className:"rc-LtiVerifyAndLaunch"},a&&this.hasAcceptedAgreement()&&c.a.createElement(U.a,{recaptchaId:"recaptcha-lti-launch",onPass:this.handleRecaptchaPass}),!e&&this.renderDisclosures(),!e&&this.renderLaunchButton(),a&&c.a.createElement(D.a,null),t&&this.renderEmbeddedLtiTool())},LtiVerifyAndLaunch}(c.a.Component),x=l()(_templateObject());e.a=Object(s.compose)(y()(["CourseStore"],function(e){var t;return{courseSlug:e.CourseStore.getCourseSlug()}}),Object(d.a)(x,{skip:function skip(){return!h.a.isAuthenticatedUser()},options:function options(e){var t=e.courseSlug;return{variables:{userId:"".concat(h.a.get().id),slug:t}}},props:function props(e){var t,n,a,r,o,i,c=(((e.data||{}).OpenCourseMembershipsV1Resource||{}).findByUserAndSlug||{}).elements,s=c&&c[0],u;return{courseRole:s&&s.courseRole}}}))(j)}}]);
//# sourceMappingURL=en.39.cfa54df920e8ef7ab15d.js.map